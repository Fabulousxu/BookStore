{"ast":null,"code":"// export const apiURL = 'https://10.119.12.209:8080/api'\nexport const apiURL = 'http://localhost:8080/api';\nexport async function get(url) {\n  let res = await fetch(url, {\n    method: 'GET',\n    credentials: 'include'\n  });\n  if (!res.ok) throw res.status;\n  return res.json();\n}\nexport async function post(url, data) {\n  let res = await fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.json();\n}\nexport async function put(url, data) {\n  let res = await fetch(url, {\n    method: 'PUT',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.json();\n}\nexport async function del(url, data) {\n  let res = await fetch(url, {\n    method: 'DELETE',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.json();\n}\nexport function errorHandle(err, navigate) {\n  if (err === 401) {\n    alert('登录已失效，请重新登录！');\n    navigate('/login');\n  } else alert(err);\n}","map":{"version":3,"names":["apiURL","get","url","res","fetch","method","credentials","ok","status","json","post","data","body","JSON","stringify","headers","put","del","errorHandle","err","navigate","alert"],"sources":["E:/MyProjects/BookStore/BookStore-Frontend/src/service/util.js"],"sourcesContent":["// export const apiURL = 'https://10.119.12.209:8080/api'\r\nexport const apiURL = 'http://localhost:8080/api'\r\n\r\nexport async function get(url) {\r\n  let res = await fetch(url, {\r\n    method: 'GET',\r\n    credentials: 'include'\r\n  })\r\n  if (!res.ok) throw res.status\r\n  return res.json();\r\n}\r\n\r\nexport async function post(url, data) {\r\n  let res = await fetch(url, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    credentials: 'include'\r\n  })\r\n  return res.json();\r\n}\r\n\r\nexport async function put(url, data) {\r\n  let res = await fetch(url, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    credentials: 'include'\r\n  })\r\n  return res.json();\r\n}\r\n\r\nexport async function del(url, data) {\r\n  let res = await fetch(url, {\r\n    method: 'DELETE',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    credentials: 'include'\r\n  })\r\n  return res.json();\r\n}\r\n\r\nexport function errorHandle(err, navigate) {\r\n  if (err === 401) {\r\n    alert('登录已失效，请重新登录！')\r\n    navigate('/login')\r\n  } else alert(err)\r\n}"],"mappings":"AAAA;AACA,OAAO,MAAMA,MAAM,GAAG,2BAA2B;AAEjD,OAAO,eAAeC,GAAGA,CAACC,GAAG,EAAE;EAC7B,IAAIC,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IACzBG,MAAM,EAAE,KAAK;IACbC,WAAW,EAAE;EACf,CAAC,CAAC;EACF,IAAI,CAACH,GAAG,CAACI,EAAE,EAAE,MAAMJ,GAAG,CAACK,MAAM;EAC7B,OAAOL,GAAG,CAACM,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,IAAIA,CAACR,GAAG,EAAES,IAAI,EAAE;EACpC,IAAIR,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IACzBG,MAAM,EAAE,MAAM;IACdO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;IAC1BI,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDT,WAAW,EAAE;EACf,CAAC,CAAC;EACF,OAAOH,GAAG,CAACM,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeO,GAAGA,CAACd,GAAG,EAAES,IAAI,EAAE;EACnC,IAAIR,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IACzBG,MAAM,EAAE,KAAK;IACbO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;IAC1BI,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDT,WAAW,EAAE;EACf,CAAC,CAAC;EACF,OAAOH,GAAG,CAACM,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeQ,GAAGA,CAACf,GAAG,EAAES,IAAI,EAAE;EACnC,IAAIR,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IACzBG,MAAM,EAAE,QAAQ;IAChBO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;IAC1BI,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDT,WAAW,EAAE;EACf,CAAC,CAAC;EACF,OAAOH,GAAG,CAACM,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,SAASS,WAAWA,CAACC,GAAG,EAAEC,QAAQ,EAAE;EACzC,IAAID,GAAG,KAAK,GAAG,EAAE;IACfE,KAAK,CAAC,cAAc,CAAC;IACrBD,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC,MAAMC,KAAK,CAACF,GAAG,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}