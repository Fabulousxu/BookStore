{"ast":null,"code":"import { apiURL, post, get } from \"./util\";\nexport async function searchBooks(keyword, pageIndex, pageSize) {\n  let res,\n    bookList = [];\n  try {\n    res = await get(`${apiURL}/books?keyword=${keyword}&pageIndex=${pageIndex}&pageSize=${pageSize}`);\n  } catch (err) {\n    throw err;\n  }\n  res.items.forEach((item, index) => {\n    bookList.push({\n      id: item.id,\n      title: item.title,\n      author: item.author,\n      price: item.price,\n      cover: item.cover,\n      index: index\n    });\n  });\n  return bookList;\n}\nexport async function getBooks(pageIndex, pageSize) {\n  let res;\n  try {\n    res = await searchBooks('', pageIndex, pageSize);\n  } catch (err) {\n    console.log(err);\n    throw err;\n  }\n  return res;\n}\nexport async function getBookInfo(id) {\n  let res = await get(`${apiURL}/book/${id}`);\n  return {\n    id: res.id,\n    title: res.title,\n    author: res.author,\n    price: res.price,\n    intro: res.description,\n    cover: res.cover,\n    sales: res.sales\n  };\n}","map":{"version":3,"names":["apiURL","post","get","searchBooks","keyword","pageIndex","pageSize","res","bookList","err","items","forEach","item","index","push","id","title","author","price","cover","getBooks","console","log","getBookInfo","intro","description","sales"],"sources":["E:/MyProjects/BookStore/BookStore-Frontend/src/service/book.js"],"sourcesContent":["import { apiURL, post, get } from \"./util\"\r\n\r\nexport async function searchBooks(keyword, pageIndex, pageSize) {\r\n  let res, bookList = []\r\n  try {\r\n    res = await get(`${apiURL}/books?keyword=${keyword}&pageIndex=${pageIndex}&pageSize=${pageSize}`)\r\n  } catch (err) {\r\n    throw err\r\n  }\r\n  res.items.forEach((item, index) => {\r\n    bookList.push({\r\n      id: item.id,\r\n      title: item.title,\r\n      author: item.author,\r\n      price: item.price,\r\n      cover: item.cover,\r\n      index: index\r\n    })\r\n  })\r\n  return bookList\r\n}\r\n\r\nexport async function getBooks(pageIndex, pageSize) {\r\n  let res\r\n  try {\r\n    res = await searchBooks('', pageIndex, pageSize)\r\n  } catch (err) {\r\n    console.log(err)\r\n    throw err\r\n  }\r\n  return res\r\n}\r\n\r\nexport async function getBookInfo(id) {\r\n  let res = await get(`${apiURL}/book/${id}`)\r\n  return {\r\n    id: res.id,\r\n    title: res.title,\r\n    author: res.author,\r\n    price: res.price,\r\n    intro: res.description,\r\n    cover: res.cover,\r\n    sales: res.sales\r\n  }\r\n}"],"mappings":"AAAA,SAASA,MAAM,EAAEC,IAAI,EAAEC,GAAG,QAAQ,QAAQ;AAE1C,OAAO,eAAeC,WAAWA,CAACC,OAAO,EAAEC,SAAS,EAAEC,QAAQ,EAAE;EAC9D,IAAIC,GAAG;IAAEC,QAAQ,GAAG,EAAE;EACtB,IAAI;IACFD,GAAG,GAAG,MAAML,GAAG,CAAE,GAAEF,MAAO,kBAAiBI,OAAQ,cAAaC,SAAU,aAAYC,QAAS,EAAC,CAAC;EACnG,CAAC,CAAC,OAAOG,GAAG,EAAE;IACZ,MAAMA,GAAG;EACX;EACAF,GAAG,CAACG,KAAK,CAACC,OAAO,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;IACjCL,QAAQ,CAACM,IAAI,CAAC;MACZC,EAAE,EAAEH,IAAI,CAACG,EAAE;MACXC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK,MAAM;MACnBC,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBC,KAAK,EAAEP,IAAI,CAACO,KAAK;MACjBN,KAAK,EAAEA;IACT,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOL,QAAQ;AACjB;AAEA,OAAO,eAAeY,QAAQA,CAACf,SAAS,EAAEC,QAAQ,EAAE;EAClD,IAAIC,GAAG;EACP,IAAI;IACFA,GAAG,GAAG,MAAMJ,WAAW,CAAC,EAAE,EAAEE,SAAS,EAAEC,QAAQ,CAAC;EAClD,CAAC,CAAC,OAAOG,GAAG,EAAE;IACZY,OAAO,CAACC,GAAG,CAACb,GAAG,CAAC;IAChB,MAAMA,GAAG;EACX;EACA,OAAOF,GAAG;AACZ;AAEA,OAAO,eAAegB,WAAWA,CAACR,EAAE,EAAE;EACpC,IAAIR,GAAG,GAAG,MAAML,GAAG,CAAE,GAAEF,MAAO,SAAQe,EAAG,EAAC,CAAC;EAC3C,OAAO;IACLA,EAAE,EAAER,GAAG,CAACQ,EAAE;IACVC,KAAK,EAAET,GAAG,CAACS,KAAK;IAChBC,MAAM,EAAEV,GAAG,CAACU,MAAM;IAClBC,KAAK,EAAEX,GAAG,CAACW,KAAK;IAChBM,KAAK,EAAEjB,GAAG,CAACkB,WAAW;IACtBN,KAAK,EAAEZ,GAAG,CAACY,KAAK;IAChBO,KAAK,EAAEnB,GAAG,CAACmB;EACb,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}