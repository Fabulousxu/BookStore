{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nexport const apiURL = 'https://10.119.12.209:8080/api';\n// export const apiURL = 'http://127.0.0.1:8080/api'\n\nexport async function get(url) {\n  _s();\n  let res = await fetch(url, {\n    method: 'GET',\n    credentials: 'include'\n  });\n  if (res.ok == false && res.status == 401) {\n    const navigate = useNavigate();\n    alert('登录已失效，请重新登录！');\n    navigate('/login');\n  }\n  return res.json();\n}\n_s(get, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\nexport async function post(url, data) {\n  let res = await fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include'\n  });\n  return res.json();\n}","map":{"version":3,"names":["useNavigate","apiURL","get","url","_s","res","fetch","method","credentials","ok","status","navigate","alert","json","post","data","body","JSON","stringify","headers"],"sources":["E:/MyProjects/BookStore/BookStore-Frontend/src/service/util.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom'\r\n\r\nexport const apiURL = 'https://10.119.12.209:8080/api'\r\n// export const apiURL = 'http://127.0.0.1:8080/api'\r\n\r\nexport async function get(url) {\r\n  let res = await fetch(url, {\r\n    method: 'GET',\r\n    credentials: 'include'\r\n  })\r\n  if (res.ok == false && res.status == 401) {\r\n    const navigate = useNavigate()\r\n    alert('登录已失效，请重新登录！')\r\n    navigate('/login')\r\n  }\r\n  return res.json();\r\n}\r\n\r\nexport async function post(url, data) {\r\n  let res = await fetch(url, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    credentials: 'include'\r\n  })\r\n  return res.json();\r\n}"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,MAAMC,MAAM,GAAG,gCAAgC;AACtD;;AAEA,OAAO,eAAeC,GAAGA,CAACC,GAAG,EAAE;EAAAC,EAAA;EAC7B,IAAIC,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAE;IACzBI,MAAM,EAAE,KAAK;IACbC,WAAW,EAAE;EACf,CAAC,CAAC;EACF,IAAIH,GAAG,CAACI,EAAE,IAAI,KAAK,IAAIJ,GAAG,CAACK,MAAM,IAAI,GAAG,EAAE;IACxC,MAAMC,QAAQ,GAAGX,WAAW,CAAC,CAAC;IAC9BY,KAAK,CAAC,cAAc,CAAC;IACrBD,QAAQ,CAAC,QAAQ,CAAC;EACpB;EACA,OAAON,GAAG,CAACQ,IAAI,CAAC,CAAC;AACnB;AAACT,EAAA,CAXqBF,GAAG;EAAA,QAMJF,WAAW;AAAA;AAOhC,OAAO,eAAec,IAAIA,CAACX,GAAG,EAAEY,IAAI,EAAE;EACpC,IAAIV,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAE;IACzBI,MAAM,EAAE,MAAM;IACdS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;IAC1BI,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDX,WAAW,EAAE;EACf,CAAC,CAAC;EACF,OAAOH,GAAG,CAACQ,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}